{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <h2>Individuals</h2>

    <!-- Search Form -->
    <form method="get"
          action="{{ url_for('web_individuals_bp.get_individuals') }}" class="mb-3">
        <div class="input-group">
            <input
                type="text"
                name="q"
                class="form-control"
                placeholder="Search by name or place"
                value="{{ request.args.get('q', '') }}"
            />
            <button type="submit" class="btn btn-primary">Search</button>
        </div>
    </form>

    <!-- Add Individual Button -->
    <button type="button" class="btn btn-success mb-3" data-bs-toggle="modal" data-bs-target="#addIndividualModal">
        Add Individual
    </button>

    <!-- Individuals List -->
    <ul class="list-group">
    {% for individual in individuals %}
    <li class="list-group-item">
        <a href="{{ url_for('web_individuals_bp.get_family_card', id=individual.id) }}" class="text-decoration-none">
            {{ individual.identity.first_name }} {{ individual.identity.last_name }}
        </a>
    </li>
    {% else %}
    <li class="list-group-item text-muted">No individuals found.</li>
    {% endfor %}
</ul>
</div>

<!-- Include Add Individual Modal -->
{% include "partials/modals/add_individual_modal.html" %}
{% endblock %}
